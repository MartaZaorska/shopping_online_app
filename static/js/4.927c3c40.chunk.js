(this.webpackJsonpshopping_online_app=this.webpackJsonpshopping_online_app||[]).push([[4],{47:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},49:function(e,t,n){"use strict";var r=n(2);t.a=function(){return Object(r.jsx)("section",{className:"delivery-offer",children:Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{children:"FREE"})," delivery on orders overs $100"]})})}},51:function(e,t,n){"use strict";var r=n(1),o=n(6),i=n(52),a=n.n(i),c=n(2),s=function(e){var t=e.product,n=t.id,r=t.name,i=t.image_link,s=t.price,l=t.brand;return Object(c.jsxs)(o.b,{className:"product-item",to:"/product/".concat(n),children:[Object(c.jsx)("div",{className:"product-item__image",children:Object(c.jsx)(a.a,{children:Object(c.jsx)("img",{src:i,alt:r,width:"238",height:"277"})})}),Object(c.jsx)("p",{className:"product-item__brand",children:l}),Object(c.jsx)("h4",{className:"product-item__name",dangerouslySetInnerHTML:{__html:"".concat(r)}}),Object(c.jsx)("div",{className:"product-item__price",children:Object(c.jsxs)("span",{children:["$",s]})})]})};t.a=Object(r.memo)(s)},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceVisible=t.forceCheck=t.lazyload=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=d(o),a=d(n(11)),c=n(53),s=d(n(54)),l=d(n(55)),u=d(n(56));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=0,h=0,v=0,j=0,O="data-lazyload-listened",y=[],g=[],_=!1;try{var w=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,w)}catch(L){}var x=!!_&&{capture:!1,passive:!0},N=function(e){var t=e.ref;if(t instanceof HTMLElement){var n=(0,s.default)(t),r=e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=e.ref,r=void 0,o=void 0,i=void 0,a=void 0;try{var c=t.getBoundingClientRect();r=c.top,o=c.left,i=c.height,a=c.width}catch(L){r=m,o=h,i=j,a=v}var s=window.innerHeight||document.documentElement.clientHeight,l=window.innerWidth||document.documentElement.clientWidth,u=Math.max(r,0),d=Math.max(o,0),f=Math.min(s,r+i)-u,p=Math.min(l,o+a)-d,b=void 0,O=void 0,y=void 0,g=void 0;try{var _=n.getBoundingClientRect();b=_.top,O=_.left,y=_.height,g=_.width}catch(L){b=m,O=h,y=j,g=v}var w=b-u,x=O-d,N=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return w-N[0]<=f&&w+y+N[1]>=0&&x-N[0]<=p&&x+g+N[1]>=0}(e,n):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,r=void 0;try{var o=t.getBoundingClientRect();n=o.top,r=o.height}catch(L){n=m,r=j}var i=window.innerHeight||document.documentElement.clientHeight,a=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-a[0]<=i&&n+r+a[1]>=0}(e);r?e.visible||(e.props.once&&g.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},E=function(){g.forEach((function(e){var t=y.indexOf(e);-1!==t&&y.splice(t,1)})),g=[]},C=function(){for(var e=0;e<y.length;++e){var t=y[e];N(t)}E()},S=void 0,k=null,T=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n.setRef=n.setRef.bind(n),n}return b(t,e),r(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var n=void 0!==this.props.debounce&&"throttle"===S||"debounce"===S&&void 0===this.props.debounce;if(n&&((0,c.off)(e,"scroll",k,x),(0,c.off)(window,"resize",k,x),k=null),k||(void 0!==this.props.debounce?(k=(0,l.default)(C,"number"===typeof this.props.debounce?this.props.debounce:300),S="debounce"):void 0!==this.props.throttle?(k=(0,u.default)(C,"number"===typeof this.props.throttle?this.props.throttle:300),S="throttle"):k=C),this.props.overflow){var r=(0,s.default)(this.ref);if(r&&"function"===typeof r.getAttribute){var o=+r.getAttribute(O)+1;1===o&&r.addEventListener("scroll",k,x),r.setAttribute(O,o)}}else if(0===y.length||n){var i=this.props,a=i.scroll,d=i.resize;a&&(0,c.on)(e,"scroll",k,x),d&&(0,c.on)(window,"resize",k,x)}y.push(this),N(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,s.default)(this.ref);if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(O)-1;0===t?(e.removeEventListener("scroll",k,x),e.removeAttribute(O)):e.setAttribute(O,t)}}var n=y.indexOf(this);-1!==n&&y.splice(n,1),0===y.length&&"undefined"!==typeof window&&((0,c.off)(window,"resize",k,x),(0,c.off)(window,"scroll",k,x))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.children,r=e.placeholder,o=e.className,a=e.classNamePrefix,c=e.style;return i.default.createElement("div",{className:a+"-wrapper "+o,ref:this.setRef,style:c},this.visible?n:r||i.default.createElement("div",{style:{height:t},className:a+"-placeholder"}))}}]),t}(o.Component);T.propTypes={className:a.default.string,classNamePrefix:a.default.string,once:a.default.bool,height:a.default.oneOfType([a.default.number,a.default.string]),offset:a.default.oneOfType([a.default.number,a.default.arrayOf(a.default.number)]),overflow:a.default.bool,resize:a.default.bool,scroll:a.default.bool,children:a.default.node,throttle:a.default.oneOfType([a.default.number,a.default.bool]),debounce:a.default.oneOfType([a.default.number,a.default.bool]),placeholder:a.default.node,scrollContainer:a.default.oneOfType([a.default.string,a.default.object]),unmountIfInvisible:a.default.bool,style:a.default.object},T.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var M=function(e){return e.displayName||e.name||"Component"};t.lazyload=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){function o(){f(this,o);var e=p(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.displayName="LazyLoad"+M(t),e}return b(o,n),r(o,[{key:"render",value:function(){return i.default.createElement(T,e,i.default.createElement(t,this.props))}}]),o}(o.Component)}},t.default=T,t.forceCheck=C,t.forceVisible=function(){for(var e=0;e<y.length;++e){var t=y[e];t.visible=!0,t.forceUpdate()}E()}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,r){r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,(function(t){n.call(e,t||window.event)}))},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var o=window.getComputedStyle(r),i=o.position,a=o.overflow,c=o["overflow-x"],s=o["overflow-y"];if("static"===i&&t)r=r.parentNode;else{if(n.test(a)&&n.test(c)&&n.test(s))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,o=void 0,i=void 0,a=void 0,c=void 0,s=function s(){var l=+new Date-a;l<t&&l>=0?r=setTimeout(s,t-l):(r=null,n||(c=e.apply(i,o),r||(i=null,o=null)))};return function(){i=this,o=arguments,a=+new Date;var l=n&&!r;return r||(r=setTimeout(s,t)),l&&(c=e.apply(i,o),i=null,o=null),c}}},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,o;return t||(t=250),function(){var i=n||this,a=+new Date,c=arguments;r&&a<r+t?(clearTimeout(o),o=setTimeout((function(){r=a,e.apply(i,c)}),t)):(r=a,e.apply(i,c))}}},59:function(e,t,n){"use strict";n.r(t);var r=n(47),o=n(1),i=n(6),a=n(15),c=n(12),s=n(21),l=n(48),u=n(16);var d=n(18);var f=function(e){var t=Object(o.useState)([]),n=Object(r.a)(t,2),i=n[0],a=n[1],c=Object(o.useState)(!1),s=Object(r.a)(c,2),l=s[0],u=s[1],d=Object(o.useState)(!1),f=Object(r.a)(d,2),p=f[0],b=f[1];return Object(o.useEffect)((function(){if(e.length>0){var t=e.map((function(e){return fetch(e).then((function(e){return e.json()}))}));u(!0),Promise.all(t).then((function(e){var t=[];e.forEach((function(e){return e.forEach((function(e){return t.push(function(e){return{id:e.id,brand:e.brand,name:e.name,price:parseFloat(e.price)||19.99,rating:e.rating,image_link:e.image_link,description:e.description||"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce convallis et urna sit amet tincidunt. Quisque ac erat sit amet erat efficitur ultricies. Nullam sodales efficitur nibh, non porta felis egestas vitae. Sed non feugiat lorem. Interdum et malesuada fames ac ante ipsum primis in faucibus. Curabitur imperdiet libero eget semper maximus. Morbi scelerisque vestibulum eros, ut tincidunt nunc lobortis ut. Aenean aliquet est a condimentum vulputate. Proin porttitor ligula justo. Sed nunc neque, dictum rutrum massa eget, facilisis molestie est. Sed interdum sem at viverra rutrum.",category:e.product_type,created_at:new Date(e.created_at).getTime(),colors:e.product_colors}}(e))}))})),a(t),b(!1),u(!1)})).catch((function(){b(!0),u(!1)}))}}),[e]),{data:i,loading:l,error:p}};var p=function(){var e=Object(o.useState)(1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(o.useCallback)((function(){window.scrollY+window.innerHeight>=document.body.getBoundingClientRect().height-100&&i(n+1)}),[n]);return Object(o.useEffect)((function(){var e=function(){var e=document.querySelector(".scroll__button");e&&(e.style.transform=window.scrollY>=240?"translateX(0px)":"translateX(100px)"),a()};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[a]),n},b=n(28),m=n(5),h=n(2),v=function(e){var t=e.closeModal,n=Object(a.c)(u.b).filters,r=Object(a.b)(),o=Object(c.b)(u.a,r),i=o.changeFilters,s=o.resetFilters,l=function(e){i(Object(m.a)(Object(m.a)({},n),{},Object(b.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(h.jsxs)("form",{className:"filters__form",onReset:function(){s()},onSubmit:function(e){e.preventDefault(),t&&t()},children:[Object(h.jsxs)("div",{className:"select__group",children:[Object(h.jsx)("label",{htmlFor:"sort",children:"Sort By"}),Object(h.jsx)("select",{onChange:l,name:"sortBy",value:n.sortBy,children:d.f.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))})]}),Object(h.jsxs)("div",{className:"radio__group",children:[Object(h.jsx)("h3",{children:"Categories"}),d.b.map((function(e){return Object(h.jsxs)("div",{className:"radio__item",children:[Object(h.jsx)("input",{type:"radio",onChange:l,checked:n.category===e,name:"category",value:e,id:e}),Object(h.jsx)("label",{htmlFor:e,children:e})]},e)}))]}),Object(h.jsxs)("div",{className:"radio__group",children:[Object(h.jsx)("h3",{children:"Brands"}),d.a.map((function(e){return Object(h.jsxs)("div",{className:"radio__item",children:[Object(h.jsx)("input",{type:"radio",onChange:l,checked:n.brand===e,name:"brand",value:e,id:e}),Object(h.jsx)("label",{htmlFor:e,children:e})]},e)}))]}),Object(h.jsxs)("div",{className:"button__group",children:[Object(h.jsx)("button",{type:"reset","aria-label":"Reset filters",children:"Reset"}),Object(h.jsx)("button",{type:"submit","aria-label":"Submit filters",children:"Apply"})]})]})},j=function(e){var t=e.closeModal;return Object(h.jsxs)("section",{className:"modal",children:[Object(h.jsx)("div",{className:"modal__background",onClick:function(){return t()}}),Object(h.jsx)("div",{className:"modal__content",children:Object(h.jsx)(v,{closeModal:t})})]})},O=Object(o.memo)(j),y=n(26),g=n(49),_=n(51);t.default=function(){var e=Object(a.c)(u.b),t=e.products,n=e.filters,b=Object(o.useState)([]),m=Object(r.a)(b,2),j=m[0],w=m[1],x=Object(o.useState)(!1),N=Object(r.a)(x,2),E=N[0],C=N[1],S=Object(o.useState)([]),k=Object(r.a)(S,2),T=k[0],M=k[1],L=Object(o.useState)(""),P=Object(r.a)(L,2),A=P[0],z=P[1],R=p(),B=Object(a.b)(),I=Object(c.b)(u.a,B).setProducts,D=f(j),F=D.loading,H=D.error,q=D.data;Object(o.useEffect)((function(){if(0===t.length)w(d.g);else{var e=function(e,t,n){return e.filter((function(e){if("all brands"!==t.brand&&e.brand!==t.brand)return!1;if("all categories"!==t.category&&e.category!==t.category)return!1;if(""===n)return!0;var r=n.toLowerCase().trim().normalize();return e.name.toLowerCase().trim().normalize().indexOf(r)>=0||e.description.toLowerCase().trim().normalize().indexOf(r)>=0})).sort((function(e,n){return"price high to low"===t.sortBy?n.price-e.price:"price low to high"===t.sortBy?e.price-n.price:"new in"===t.sortBy?n.created_at-e.created_at:(n.rating||0)-(e.rating||0)}))}(t,n,A);M(e)}}),[t,n,A]),Object(o.useEffect)((function(){q.length>0&&(I(q),w([]))}),[q]);var U=Object(o.useCallback)((function(){return C(!1)}),[]);return H?Object(h.jsxs)("div",{className:"error content",children:[Object(h.jsx)("p",{children:"Something went wrong..."}),Object(h.jsx)(i.b,{to:"/",children:"Go back to the home page"})]}):F?Object(h.jsx)(y.a,{}):Object(h.jsxs)(h.Fragment,{children:[E&&Object(h.jsx)(O,{closeModal:U}),Object(h.jsx)(g.a,{}),Object(h.jsxs)("section",{className:"shop content",children:[Object(h.jsxs)("section",{className:"shop__filters",children:[Object(h.jsxs)("form",{className:"shop__form",children:[Object(h.jsx)("input",{type:"text",placeholder:"Search",value:A,onChange:function(e){return z(e.currentTarget.value)}}),Object(h.jsx)("button",{type:"submit","aria-label":"Search",children:Object(h.jsx)(s.c,{className:"icon"})})]}),Object(h.jsx)("button",{className:"shop__button","aria-label":"Open filters",onClick:function(){return C(!0)},children:Object(h.jsx)(s.d,{className:"icon"})}),Object(h.jsx)("div",{className:"filters__wrapper",children:Object(h.jsx)(v,{})})]}),Object(h.jsx)("section",{className:"shop__content",children:T.slice(0,d.e*R).map((function(e){return Object(h.jsx)(_.a,{product:e},e.id)}))})]}),Object(h.jsx)("button",{className:"scroll__button","aria-label":"Scroll up",onClick:function(){return window.scroll({left:0,top:0,behavior:"smooth"})},children:Object(h.jsx)(l.b,{className:"icon"})})]})}}}]);
//# sourceMappingURL=4.927c3c40.chunk.js.map