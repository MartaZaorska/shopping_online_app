(this.webpackJsonpshopping_online_app=this.webpackJsonpshopping_online_app||[]).push([[1],{16:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return r}));var r={};n.r(r),n.d(r,"setProducts",(function(){return p})),n.d(r,"addToCart",(function(){return O})),n.d(r,"removeFromCart",(function(){return f})),n.d(r,"clearCart",(function(){return v})),n.d(r,"changeFilters",(function(){return x})),n.d(r,"resetFilters",(function(){return m}));var c,a=n(12),o=n(24),i=n(5);!function(e){e.SET_PRODUCTS="GET_PRODUCTS",e.ADD_TO_CART="ADD_TO_CART",e.REMOVE_FROM_CART="REMOVE_FROM_CART",e.CLEAR_CART="CLEAR_CART",e.CHANGE_FILTERS="CHANGE_FILTERS",e.RESET_FILTERS="RESET_FILTERS"}(c||(c={}));var s={products:[],cart:[],filters:{category:"all categories",brand:"all brands",sortBy:"recommended"}},l=function(e,t,n){return e.findIndex((function(e){return t===e.product.id&&(!n||!e.color||n.hex_value===e.color.hex_value)}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SET_PRODUCTS:return Object(i.a)(Object(i.a)({},e),{},{products:t.payload});case c.ADD_TO_CART:var n=l(e.cart,t.payload.product.id,t.payload.color),r=Object(o.a)(e.cart);return n<0?r.push(Object(i.a)(Object(i.a)({},t.payload),{},{quantity:1})):r[n].quantity++,Object(i.a)(Object(i.a)({},e),{},{cart:r});case c.REMOVE_FROM_CART:var a=l(e.cart,t.payload.id,t.payload.color),u=Object(o.a)(e.cart);return a<0?e:(u[a].quantity>1?u[a].quantity--:u.splice(a,1),Object(i.a)(Object(i.a)({},e),{},{cart:u}));case c.CLEAR_CART:return Object(i.a)(Object(i.a)({},e),{},{cart:[]});case c.CHANGE_FILTERS:return Object(i.a)(Object(i.a)({},e),{},{filters:t.payload});case c.RESET_FILTERS:return Object(i.a)(Object(i.a)({},e),{},{filters:{brand:"all brands",category:"all categories",sortBy:"recommended"}});default:return e}},d=Object(a.c)({shop:u}),b=function(e){return e.shop},j=n(31);var h=Object(a.d)(d,function(){try{var e=sessionStorage.getItem("shopping-online-app");return null===e?void 0:{shop:JSON.parse(e)}}catch(t){return}}(),Object(a.a)(j.a));h.subscribe((function(){return function(e){try{sessionStorage.setItem("shopping-online-app",JSON.stringify(Object(i.a)(Object(i.a)({},e.shop),{},{products:[]})))}catch(t){console.log(t)}}(h.getState())}));var p=function(e){return function(t){t({type:c.SET_PRODUCTS,payload:e})}},O=function(e,t){return function(n){n({type:c.ADD_TO_CART,payload:{product:e,color:t}})}},f=function(e,t){return function(n){n({type:c.REMOVE_FROM_CART,payload:{id:e,color:t}})}},v=function(){return function(e){e({type:c.CLEAR_CART})}},x=function(e){return function(t){t({type:c.CHANGE_FILTERS,payload:e})}},m=function(){return function(e){e({type:c.RESET_FILTERS})}}},18:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l}));var r=["all categories","blush","bronzer","eyebrow","eyeliner","eyeshadow","foundation","lipstick"],c=["recommended","price high to low","price low to high","new in"],a=["all brands","clinique","marcelle"],o=["https://makeup-api.herokuapp.com/api/v1/products.json?brand=clinique","https://makeup-api.herokuapp.com/api/v1/products.json?brand=marcelle"],i=10,s="SHOP10",l=30},26:function(e,t,n){"use strict";var r=n(2);t.a=function(){return Object(r.jsxs)("div",{className:"loader",children:[Object(r.jsx)("div",{className:"circle"}),Object(r.jsx)("span",{children:"Loading..."})]})}},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(17),o=n.n(a),i=n(15),s=n(6),l=n(16),u=n(4),d=function(e){return Object(r.useMemo)((function(){var t=0;e.forEach((function(e){return t+=e.product.price*e.quantity}));var n=[];e.forEach((function(e){if("clinique"===e.product.brand)for(var t=0;t<e.quantity;t++)n.push(e.product.price)})),n=n.sort((function(e,t){return e-t}));for(var r=Math.floor(n.length/3),c=0;r>0;c++,r--)t-=n[c];return+t.toFixed(2)}),[e])},b=n(26),j=n(23),h=n(21),p=n(29),O=n(33),f=n(2),v=function(e){var t=e.total;return Object(f.jsxs)("nav",{className:"navbar",children:[Object(f.jsxs)("div",{className:"navbar--mobile",children:[Object(f.jsxs)("div",{className:"navbar__side--left navbar__side",children:[Object(f.jsx)(s.b,{to:"/","aria-label":"Home",children:Object(f.jsx)(p.a,{className:"icon"})}),Object(f.jsx)(s.b,{to:"/shop","aria-label":"Shop",children:Object(f.jsx)(h.e,{className:"icon"})})]}),Object(f.jsx)("div",{className:"navbar__center",children:Object(f.jsx)(s.b,{to:"/cart","aria-label":"Cart",children:Object(f.jsx)(j.a,{className:"icon"})})}),Object(f.jsxs)("div",{className:"navbar__side--right navbar__side",children:[Object(f.jsx)(s.b,{to:"/delivery","aria-label":"Delivery",children:Object(f.jsx)(h.a,{className:"icon"})}),Object(f.jsx)(s.b,{to:"/contact","aria-label":"Contact",children:Object(f.jsx)(O.a,{className:"icon"})})]}),Object(f.jsx)("div",{className:"navbar__circle"})]}),Object(f.jsxs)("div",{className:"navbar--desktop content",children:[Object(f.jsx)("header",{children:Object(f.jsx)(s.b,{to:"/","aria-label":"Home",children:"Maquillage"})}),Object(f.jsxs)("div",{className:"navbar__content",children:[Object(f.jsx)(s.b,{to:"/shop","aria-label":"Shop",children:"Shop"}),Object(f.jsx)(s.b,{to:"/delivery","aria-label":"Delivery",children:"Delivery"}),Object(f.jsx)(s.b,{to:"/contact","aria-label":"Contact",children:"Contact"}),Object(f.jsxs)(s.b,{to:"/cart",className:"navbar__cart","aria-label":"Cart",children:[Object(f.jsx)(j.a,{className:"icon"}),Object(f.jsxs)("span",{children:["$",t]})]})]})]})]})},x=Object(r.memo)(v),m=n(18),_=function(){return Object(f.jsx)("section",{className:"stripe",children:Object(f.jsxs)("p",{children:["Discount code ",m.c,"% valid now: ",Object(f.jsx)("span",{children:m.d})]})})},g=function(e){var t=e.total;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_,{}),Object(f.jsx)(x,{total:t}),Object(f.jsx)("header",{className:"header content",children:Object(f.jsx)(s.b,{to:"/",children:"Maquillage"})})]})},y=Object(r.memo)(g),E=function(){return Object(f.jsx)("footer",{className:"footer",children:Object(f.jsx)("section",{className:"stripe",children:Object(f.jsxs)("p",{children:["\xa9 Created by ",Object(f.jsx)("a",{href:"https://martazaorska.github.io/portfolio/","aria-label":"Link to my portfolio",target:"_blank",rel:"noreferrer",children:"Marta Zaorska"})," ",(new Date).getFullYear()]})})})},R=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,61))})),T=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,59))})),w=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,58))})),C=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,62))})),S=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,60))})),N=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(10)]).then(n.bind(null,63))})),A=function(){var e=Object(i.c)(l.b).cart,t=Object(u.g)().pathname,n=void 0===t?"":t,c=d(e);return Object(r.useEffect)((function(){return window.scroll({top:0,behavior:"smooth"})}),[n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y,{total:c}),Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(b.a,{}),children:Object(f.jsx)("main",{className:"main",children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/",exact:!0,strict:!0,children:Object(f.jsx)(R,{})}),Object(f.jsx)(u.a,{path:"/shop",children:Object(f.jsx)(T,{})}),Object(f.jsx)(u.a,{path:"/delivery",children:Object(f.jsx)(w,{})}),Object(f.jsx)(u.a,{path:"/contact",children:Object(f.jsx)(C,{})}),Object(f.jsx)(u.a,{path:"/cart",children:Object(f.jsx)(S,{total:c})}),Object(f.jsx)(u.a,{path:"/product/:id",children:Object(f.jsx)(N,{})})]})})}),Object(f.jsx)(E,{})]})},k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(45);o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(s.a,{basename:"/shopping_online_app",children:Object(f.jsx)(i.a,{store:l.c,children:Object(f.jsx)(A,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/shopping_online_app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/shopping_online_app","/service-worker.js");k?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):F(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):F(t,e)}))}}()}},[[46,2,3]]]);
//# sourceMappingURL=main.381fa5d1.chunk.js.map